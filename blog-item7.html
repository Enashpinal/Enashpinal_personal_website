<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€å‰ç«¯å¼€å‘ã€åŸåˆ›ã€ã€‘å‡ è¡ŒJavaScriptå®ç°å¹³æ»‘çš„ç½‘é¡µæ»šåŠ¨</title>
    <link rel="stylesheet" href="styles.css">
    <script async src="//githubcdn.qiushaocloud.top/gh/qiushaocloud/site-counter@master/dist/qiushaocloud_site_counter.min.js"></script>
</head>
<body>
    <nav>
	<div class="title" style="font-family: 'MOJANG ABC', sans-serif;">Enashpinal_YEE</div>
        <ul>
            <li><a href="#about">ğŸ HOME</a></li>
        </ul>
</nav>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const links = document.querySelectorAll('nav ul li a');

    links.forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault();
            const target = link.getAttribute('data-target');
            const url = 'https://enashpinal.pages.dev/';
            window.location.href = url;

            setTimeout(() => {
                const element = document.querySelector(target);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                }
            }, 1000); 
        });
    });
});
</script>
    <div id="sidebar">
        <div class="sidebar-header">ç›®å½•</div>
        <div class="sidebar-nav" id="nav-list"></div>
    </div>
    <div id="toggle-btn"></div>
 <script>
        let isMoved = false;

        document.getElementById('toggle-btn').addEventListener('click', function() {
            if (isMoved) {
                this.classList.remove('moved');
            } else {
                this.classList.add('moved');
            }
            isMoved = !isMoved;
        });
    </script>
    <header>
        <h1>ã€å‰ç«¯å¼€å‘ã€åŸåˆ›ã€ã€‘å‡ è¡ŒJavaScriptå®ç°å¹³æ»‘çš„ç½‘é¡µæ»šåŠ¨</h1>
	<p>æœ¬é¡µé¢æ€»è®¿é—®é‡: <span id="qiushaocloud_sitecounter_value_site_page_pv">n</span></p>
    </header>
    <main>
         <div>
        <section> 
          
<h2>æ•ˆæœå±•ç¤º</h2>
<p><img src="blog/b7/img.webp" alt="å±•ç¤º" /></p>
          
<h2>å®ç°è¿‡ç¨‹</h2>
<ol>
    <li>
        <strong style="color: red;">æ£€æµ‹é¼ æ ‡æ»šåŠ¨</strong>
        <p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ£€æµ‹ä½ çš„æ»šåŠ¨åŠ¨ä½œã€‚é€šè¿‡ <code>wheel</code> äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æµ‹åˆ°ä½ çš„é¼ æ ‡æ»šåŠ¨çŠ¶æ€ï¼Œä»è€ŒçŸ¥é“æ˜¯å‘ä¸Šè¿˜æ˜¯å‘ä¸‹æ»šåŠ¨ã€æ»šåŠ¨äº†å¤šå°‘ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">æ›´æ–°ç›®æ ‡ä½ç½®</strong>
        <p>å½“æ£€æµ‹åˆ°æ»šåŠ¨çŠ¶æ€åï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä½ æ»šåŠ¨çš„åŠ¨ä½œæ¥æ›´æ–°ç›®æ ‡ä½ç½®ã€‚å¦‚æœä½ åœ¨å‘ä¸‹æ»šåŠ¨ï¼Œå°±æŠŠç›®æ ‡ä½ç½®å¾€ä¸‹ç§»ï¼›å¦‚æœä½ åœ¨å‘ä¸Šæ»šåŠ¨ï¼Œç›®æ ‡ä½ç½®å°±å¾€ä¸Šç§»ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">å¹³æ»‘è¿‡æ¸¡</strong>
        <p>ä¸ºäº†è®©æ»šåŠ¨çœ‹èµ·æ¥æ›´å¹³ç¼“ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½ å½“å‰çš„ä½ç½®å’Œç›®æ ‡ä½ç½®ä¹‹é—´è¿›è¡Œä¸€äº›è¿‡æ¸¡ã€‚è¯´ç™½äº†å°±æ˜¯å‡ç¼“æ»šåŠ¨é€Ÿåº¦ï¼Œéšç€ä½ æ»šåŠ¨æ—¶é—´çš„å˜åŒ–æ…¢æ…¢å˜å¿«ã€‚æƒ¯æ€§å¤§å°é€šè¿‡ä»¥ä¸‹å…¬å¼è¿›è¡Œè®¡ç®—ï¼š</p>
        <p><code>currentScroll += (targetScroll - currentScroll) * inertia;</code></p>
        <p><strong>currentScroll</strong>: å½“å‰çš„æ»šåŠ¨ä½ç½®ã€‚<br>
        <strong>targetScroll</strong>: ç›®æ ‡æ»šåŠ¨ä½ç½®ï¼Œå³å¸Œæœ›æ»šåŠ¨åˆ°çš„ä½ç½®ã€‚<br>
        <strong>inertia</strong>: æƒ¯æ€§å› å­ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªä»‹äº 0 å’Œ 1 ä¹‹é—´çš„å€¼ï¼Œç”¨äºæ§åˆ¶æ»šåŠ¨çš„é€Ÿåº¦å’Œæµç•…åº¦ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">åŠ¨ç”»æ•ˆæœ</strong>
        <p>æˆ‘ä»¬ç”¨ <code>requestAnimationFrame</code>ï¼ˆä¸€ä¸ªæµè§ˆå™¨æä¾›çš„APIï¼‰æ¥å¤„ç†åŠ¨ç”»ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨æµè§ˆå™¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æˆ‘ä»¬çš„å‡½æ•°ï¼Œè®©åŠ¨ç”»çœ‹èµ·æ¥æ›´æµç•…ã€‚åœ¨æ¯ä¸€å¸§æ›´æ–°å½“å‰æ»šåŠ¨çš„ä½ç½®ï¼Œç„¶åç”¨ <code>window.scrollTo</code> æŠŠé¡µé¢æ»šåŠ¨åˆ°ç›®æ ‡ä½ç½®ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">åœæ­¢æ¡ä»¶</strong>
        <p>å½“ä½ æ²¡æœ‰æ»šåŠ¨çš„æ—¶å€™ã€‚ä¹Ÿå°±æ˜¯è¯´å½“å‰æ»šåŠ¨ä½ç½®å’Œç›®æ ‡ä½ç½®ä¹‹é—´çš„å·®è·å¾ˆå°ï¼Œæˆ‘ä»¬å°±å¯ä»¥å…³é—­åŠ¨ç”»æ•ˆæœï¼Œè¿™æ ·å°±èƒ½é¿å…ä¸å¿…è¦çš„è®¡ç®—ï¼Œæå‡æ€§èƒ½ã€‚</p>
    </li>
</ol>

<h2>ä¸Šä»£ç ï¼</h2>
<p>å¬èµ·æ¥æŒºå¤æ‚ï¼Œå…¶å®å®ç°æ•ˆæœè¿˜æ˜¯æŒºç®€å•çš„</p>

<div class="container"> 
  <div class="window"> 
    <div class="window-title">
      <p>JavaScript code</p>
      <div class="window-buttons">
        <div class="window-button fullscreen"></div>
        <div class="window-button reduce"></div>
        <div class="window-button close"></div>
      </div>
    </div>
    <div class="console">
<pre><code>
let scrollSpeed = 40;

let currentScroll = window.scrollY;

let targetScroll = currentScroll;

let inertia = 0.001;

function smoothScroll() {
    currentScroll += (targetScroll - currentScroll) * inertia;
    window.scrollTo(0, currentScroll);
    if (Math.abs(targetScroll - currentScroll) > 0.1) {
        requestAnimationFrame(smoothScroll);
    }
}

window.addEventListener('wheel', function(event) {
    event.preventDefault();
    targetScroll += event.deltaY > 0 ? scrollSpeed : -scrollSpeed;
    smoothScroll();
}, { passive: false });

</code></pre>
    </div>
  </div>
</div>
<div class="container"> 
  <div class="window"> 
    <div class="window-title">
      <p>HTML code</p>
      <div class="window-buttons">
        <div class="window-button fullscreen"></div>
        <div class="window-button reduce"></div>
        <div class="window-button close"></div>
      </div>
    </div>
    <div class="console">
<pre><code>
&lt;script src=&quot;smoothScroll.js&quot;&gt;&lt;/script&gt;
</code></pre>
    </div>
  </div>
</div>
<h2>å¯¹äºç‰¹æ®Šæƒ…å†µ</h2>
<p>å¦‚æœä½ çš„ç½‘é¡µé‡Œæœ‰é”šç‚¹å¯¼èˆªï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ä¸Šé¢è¿™æ®µä»£ç çš„è¯ä¼šå‡ºé—®é¢˜ï¼Œé”šç‚¹å¯¼èˆªä¼šå¤±æ•ˆï¼Œè¿™æ—¶å€™æˆ‘ä»¬å†æ·»åŠ ä¸€æ®µJavaScriptä»£ç å°±å¥½äº†ã€‚</p>

<h3>å®ç°è¿‡ç¨‹</h3>
<ol>
    <li>
        <strong style="color: red;">é€‰æ‹©é“¾æ¥</strong>
        <p><code>document.querySelectorAll('a[href^="#"]')</code> <br> <br>è¿™è¡Œä»£ç é€‰æ‹©æ‰€æœ‰ href å±æ€§ä»¥ <code>#</code> å¼€å¤´çš„é“¾æ¥ï¼Œä¹Ÿå°±æ˜¯æå–é”šç‚¹å¯¼èˆªé“¾æ¥ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">éå†é“¾æ¥</strong>
        <p><code>.forEach(anchor => {</code>  <br> <br>å¯¹æ¯ä¸ªé€‰æ‹©åˆ°çš„é“¾æ¥è¿›è¡Œéå†ï¼Œå¹¶ä¸ºæ¯ä¸ªé“¾æ¥æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ï¼ˆäº‹ä»¶ç›‘å¬å™¨ç”¨äºæ£€æµ‹ä½ æœ‰æ²¡æœ‰ç‚¹å‡»é”šç‚¹å¯¼èˆªé“¾æ¥ï¼‰ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">æ·»åŠ äº‹ä»¶ç›‘å¬å™¨</strong>
        <p><code>anchor.addEventListener('click', function(e) {</code>  <br> <br>å½“æ£€æµ‹åˆ°é“¾æ¥è¢«ç‚¹å‡»æ—¶ï¼Œè§¦å‘è¿™ä¸ªå‡½æ•°ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">é˜»æ­¢é»˜è®¤è¡Œä¸º</strong>
        <p><code>e.preventDefault();</code>  <br> <br>é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºï¼Œé˜²æ­¢é¡µé¢ç›´æ¥è·³è½¬åˆ°é”šç‚¹æŒ‡å‘çš„ä½ç½®ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">è·å–ç›®æ ‡å…ƒç´ </strong>
        <p><code>const targetId = this.getAttribute('href');</code><br>
        <code>const targetElement = document.querySelector(targetId);</code>  <br> <br>è·å–ä½ ç‚¹å‡»çš„é“¾æ¥çš„ <code>href</code> å±æ€§å€¼ï¼ˆå°±æ˜¯ç›®æ ‡é”šç‚¹çš„ IDï¼‰ï¼Œå¹¶é€šè¿‡è¿™ä¸ª ID æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">æ£€æŸ¥ç›®æ ‡å…ƒç´ æ˜¯å¦å­˜åœ¨</strong>
        <p><code>if (targetElement) {</code>  <br> <br>æ£€æŸ¥ç›®æ ‡å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œç»§ç»­æ‰§è¡Œç¨‹åºã€‚</p>
    </li>
    <li>
        <strong style="color: red;">è®¾ç½®æ»šåŠ¨å‚æ•°</strong>
        <p><code>targetScroll = targetElement.offsetTop;</code><br>
        <code>const startScroll = currentScroll;</code><br>
        <code>const distance = targetScroll - startScroll;</code><br>
        <code>const duration = 300;</code><br>
        <code>const startTime = performance.now();</code><br>
        <strong>targetScroll</strong>: ç›®æ ‡å…ƒç´ çš„å‚ç›´ä½ç½®ã€‚<br>
        <strong>startScroll</strong>: å½“å‰çš„æ»šåŠ¨ä½ç½®ã€‚<br>
        <strong>distance</strong>: ä»å½“å‰æ»šåŠ¨ä½ç½®åˆ°ç›®æ ‡ä½ç½®çš„è·ç¦»ã€‚<br>
        <strong>duration</strong>: åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆ300æ¯«ç§’ï¼‰ã€‚<br>
        <strong>startTime</strong>: åŠ¨ç”»å¼€å§‹æ—¶é—´ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">å®šä¹‰åŠ¨ç”»å‡½æ•°</strong>
        <p><code>function animateScroll(currentTime) {</code>  <br> <br>å®šä¹‰ä¸€ä¸ªæ»šåŠ¨çš„åŠ¨ç”»å‡½æ•°ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">è®¡ç®—åŠ¨ç”»è¿›åº¦</strong>
        <p><code>const elapsed = currentTime - startTime;</code><br>
        <code>const progress = Math.min(elapsed / duration, 1);</code><br>
        <code>const newScroll = startScroll + distance * progress;</code><br>
        <strong>elapsed</strong>: ä»å¼€å§‹æ»šåŠ¨åˆ°å½“å‰çš„æ—¶é—´ã€‚<br>
        <strong>progress</strong>: åŠ¨ç”»çš„è¿›åº¦ï¼Œåœ¨ 0 å’Œ 1 ä¹‹é—´ã€‚<br>
        <strong>newScroll</strong>: æ ¹æ®è¿›åº¦è®¡ç®—æ–°çš„æ»šåŠ¨ä½ç½®ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">æ‰§è¡Œæ»šåŠ¨</strong>
        <p><code>window.scrollTo(0, newScroll);</code>  <br> <br>ä½¿ç”¨ <code>window.scrollTo</code> æ–¹æ³•æ»šåŠ¨åˆ°æ–°çš„ä½ç½®ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">æ£€æŸ¥æ˜¯å¦å®Œæˆæ»šåŠ¨</strong>
        <p><code>if (progress < 1) { requestAnimationFrame(animateScroll); } else { currentScroll = newScroll; }</code>  <br> <br>å¦‚æœåŠ¨ç”»è¿˜æœªå®Œæˆï¼Œä½¿ç”¨ <code>requestAnimationFrame</code> ç»§ç»­è°ƒç”¨ <code>animateScroll</code>ã€‚å¦‚æœåŠ¨ç”»å®Œæˆï¼Œæ›´æ–° <strong>currentScroll</strong> ä¸ºæ–°çš„æ»šåŠ¨ä½ç½®ã€‚</p>
    </li>
    <li>
        <strong style="color: red;">å¯åŠ¨ï¼ï¼</strong>
        <p><code>requestAnimationFrame(animateScroll);</code>  <br> <br>å¼€å§‹åŠ¨ç”»ã€‚</p>
    </li>
</ol>
<h2>å®Œæ•´ä»£ç </h2>
<div class="container"> 
  <div class="window"> 
    <div class="window-title">
      <p>JavaScript code</p>
      <div class="window-buttons">
        <div class="window-button fullscreen"></div>
        <div class="window-button reduce"></div>
        <div class="window-button close"></div>
      </div>
    </div>
    <div class="console">
<pre><code>
let scrollSpeed = 40;

let currentScroll = window.scrollY;

let targetScroll = currentScroll;

let inertia = 0.001;

function smoothScroll() {
    currentScroll += (targetScroll - currentScroll) * inertia;
    window.scrollTo(0, currentScroll);
    if (Math.abs(targetScroll - currentScroll) > 0.1) {
        requestAnimationFrame(smoothScroll);
    }
}

window.addEventListener('wheel', function(event) {
    event.preventDefault();
    targetScroll += event.deltaY > 0 ? scrollSpeed : -scrollSpeed;
    smoothScroll();
}, { passive: false });

document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();

        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
            targetScroll = targetElement.offsetTop;
            const startScroll = currentScroll;
            const distance = targetScroll - startScroll;
            const duration = 300;
            const startTime = performance.now();

            function animateScroll(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const newScroll = startScroll + distance * progress;

                window.scrollTo(0, newScroll);

                if (progress < 1) {
                    requestAnimationFrame(animateScroll);
                } else {
                    currentScroll = newScroll;
                }
            }

            requestAnimationFrame(animateScroll);
        }
    });
});
</code></pre>
    </div>
  </div>
</div>

<h2>æ„Ÿè°¢é˜…è¯»ï¼</h2>
<p>ç å­—ä¸æ˜“ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p>


          
        </section>
             <script>
        document.addEventListener('DOMContentLoaded', function () {
            const sidebar = document.getElementById('sidebar');
            const toggleBtn = document.getElementById('toggle-btn');
            const navList = document.getElementById('nav-list');

            toggleBtn.addEventListener('click', function () {
                sidebar.classList.toggle('show');
            });

            function generateNav() {
                const headings = document.querySelectorAll('h1, h2, h3');
                let navHtml = '';

                headings.forEach(heading => {
                    const id = heading.id || heading.textContent.replace(/\s+/g, '-').toLowerCase();
                    heading.id = id;

                    let indentClass = '';
                    if (heading.tagName === 'H2') {
                        indentClass = 'indent-h2';
                    } else if (heading.tagName === 'H3') {
                        indentClass = 'indent-h3';
                    }

                    navHtml += `<a href="#${id}" class="${indentClass}">${heading.textContent}</a>`;
                });

                navList.innerHTML = navHtml;
            }

            generateNav();
        });
    </script>
    </main>
    <footer>
        <p>Copyright &copy; 2024 Enashpinal_YEE rights reserved.</p>
    </footer>
</body>
</html>
